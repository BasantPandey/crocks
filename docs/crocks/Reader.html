<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta content="minimum-scale=1.0, width=device-width" name="viewport"><meta name="description" content="Reader Crock"><title>Reader - Crocks</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto+Mono"><!-- inject:css --><link rel="stylesheet" href="/crocks/vendor/galano/galano.css"><link rel="stylesheet" href="/crocks/vendor/icon-12/icon-12.css"><link rel="stylesheet" href="/crocks/vendor/icon-16/icon-16.css"><link rel="stylesheet" href="/crocks/vendor/senna/senna.css"><link rel="stylesheet" href="/crocks/vendor/codemirror/lib/codemirror.css"><link rel="stylesheet" href="/crocks/vendor/codemirror/theme/blackboard.css"><!-- endinject --><!-- inject:js --><script src="/crocks/js/bundles/shared.electric.js"></script><script src="/crocks/vendor/senna/senna.js"></script><script src="/crocks/vendor/codemirror/lib/codemirror.js"></script><script src="/crocks/vendor/codemirror/mode/haskell/haskell.js"></script><script src="/crocks/vendor/codemirror/mode/javascript/javascript.js"></script><!-- endinject --><link rel="icon" href="/crocks/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/crocks/styles/main.css"></head><body data-senna><div data-senna-surface id="wrapper"><div class="senna-loading-bar"></div><!-- inject:metal:js --><div id="pageComponent"><div class="main"><main class="guide"><div class="docs"><nav class="topbar topbar-light topbar-docs"><div class="topbar-logo"><a class="topbar-logo-link" href="/crocks"><span class="topbar-logo-icon icon-16-loop"></span><h3 class="topbar-logo-text">Crocks</h3></a></div><nav class="topbar-menu"><button class="topbar-toggle">Menu</button><ul class="topbar-list"><li class="topbar-item"><a class="topbar-link topbar-link-selected" href="/crocks/docs/" target="undefined"><span>Documentation</span></a></li></ul></nav></nav><nav class="sidebar"><a class="sidebar-header toggler-header-collapsed"><span class="sidebar-icon icon-16-menu"></span><span>Docs Menu</span><span class="sidebar-icon-right"><span class="icon-12-arrow-down-short"></span><span class="icon-12-arrow-up-short"></span></span></a><div class="sidebar-toggler-content toggler-collapsed"><div class="sidebar-search"><div class="page-autocomplete"><div class="form-group"><div class="input-inner-addon input-inner-addon-right"><input autocomplete="off" class="form-control" name="q" placeholder="Search Docs" ref="input" required type="text" ><span class="input-inner-icon-helper icon-16-magnifier"></span></div></div></div></div><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/getting-started.html"><span class="sidebar-icon icon-16-arrow-right-rod"></span><span>Getting Started</span></a></li><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/crocks/docs/crocks/"><span class="sidebar-icon icon-16-code-file"></span><span>Crocks</span></a><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/crocks/Arrow.html"><span>Arrow</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/crocks/Equiv.html"><span>Equiv</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/crocks/Pred.html"><span>Pred</span></a></li><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/crocks/docs/crocks/Reader.html"><span>Reader</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/crocks/State.html"><span>State</span></a></li></ul></nav></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/monoids/"><span class="sidebar-icon icon-16-code-file"></span><span>Monoids</span></a><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/monoids/All.html"><span>All</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/monoids/Any.html"><span>Any</span></a></li></ul></nav></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/functions/"><span class="sidebar-icon icon-16-code-file"></span><span>Functions</span></a><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/functions/combinators.html"><span>Combinators</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/functions/helpers.html"><span>Helpers</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/functions/logic-functions.html"><span>Logic Functions</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/functions/predicate-functions.html"><span>Predicate Functions</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/functions/pointfree-functions.html"><span>Point-free Functions</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/crocks/docs/functions/transformation-functions.html"><span>Transformation Functions</span></a></li></ul></nav></li></ul></nav></div></nav><div class="sidebar-offset"><header class="guide-header"><div class="container-hybrid"><h1 class="title">Reader</h1></div></header><div class="container-hybrid"><div class="docs-guide row"><div class="docs-content col-xs-16 col-md-9"><div class="guide-content"><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Reader e a</code></pre></div><p><code>Reader</code> is a lazy Product Type that enables the  composition of computations that depend on a shared environment <code>(e -&gt; a)</code>. The left portion, the <code>e</code> must be fixed to a type for all related computations. The right portion <code>a</code> can vary in its type.</p><p>As <code>Reader</code> is lazy, wrapping a function of the form <code>(e -&gt; a)</code>, nothing is executed until it is run with an environment. <code>Reader</code> provides a method on it's instance that will take an environment called <code>runWith</code> that will run the instance with a given environment.</p><p>Not only is <code>Reader</code>'s environment fixed to a type, but it should be immutable for the &quot;life&quot; computation. If a referential type is used as the environment great care should be taken to not modify the value of the environment.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const Reader = require(&#39;crocks/Reader&#39;)
const { ask } = Reader

const concat = require(&#39;crocks/pointfree/concat&#39;)

// greet :: String -&gt; Reader String String
const greet = greeting =&gt;
  Reader(name =&gt; `${greeting}, ${name}`)

// addFarewell :: String -&gt; Reader String String
const addFarewell = farewell =&gt; str =&gt;
  ask(env =&gt; `${str}${farewell} ${env}`)

// flow :: Reader String String
const flow =
  greet(&#39;Hola&#39;)
    .map(concat(&#39;...&#39;))
    .chain(addFarewell(&#39;See Ya&#39;))

flow
  .runWith(&#39;Thomas&#39;)
// =&gt; Hola, Thomas...See Ya Thomas

flow
  .runWith(&#39;Jenny&#39;)
// =&gt; Hola, Jenny...See Ya Jenny</code></pre></div><article id="implements"><h2>Implements</h2><p><code>Functor</code>, <code>Apply</code>, <code>Chain</code>, <code>Applicative</code>, <code>Monad</code></p></article><article id="constructor"><h2>Constructor Methods</h2><h4>ask</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Reader.ask :: () -&gt; Reader e e
Reader.ask :: (e -&gt; b) -&gt; Reader e b</code></pre></div><p>A construction helper that returns a <code>Reader</code> with the environment on the right portion of the <code>Reader</code>. <code>ask</code> can take a function, that can be used to map the environment to a different type or value.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const Reader = require(&#39;crocks/Reader&#39;)
const { ask } = Reader

// add :: Number -&gt; Number -&gt; Number
const add =
  x =&gt; y =&gt; x + y

// Typical constructor
Reader(add(10))
  .runWith(56)
//=&gt; 66

// Using `ask` with no function
// (identity on environment)
ask()
  .runWith(56)
//=&gt; 56

// Using `ask` with a function
// (map environment before deposit)
ask(add(10))
  .runWith(56)
//=&gt; 66</code></pre></div><h4>of</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Reader.of :: a -&gt; Reader e a</code></pre></div><p><code>of</code> is used to construct a <code>Reader</code> with the right portion populated with it's argument. <code>of</code> essentially will lift a value of type <code>a</code> into a <code>Reader</code>, giving back a <code>Reader</code> that is &quot;pointed&quot; to the specific value provided. <code>of</code> makes for a wonderful starting point for some of the more complicated flows.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const Reader = require(&#39;crocks/Reader&#39;)
const { ask } = Reader

const objOf = require(&#39;crocks/helpers/objOf&#39;)
const thrush = require(&#39;crocks/combinators/reverseApply&#39;)

// add :: Number -&gt; Number -&gt; Number
const add =
  x =&gt; y =&gt; x + y

Reader.of(34)
  .map(add(6))
  .runWith()
//=&gt; 40

Reader.of(&#39;Bobby&#39;)
  .map(objOf(&#39;name&#39;))
  .runWith()
//=&gt; { name: &#39;Bobby&#39; }

Reader.of(57)
  .chain(x =&gt; ask(add).map(thrush(x)))
  .runWith(43)
//=&gt; 100</code></pre></div><h4>type</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Reader.type :: () -&gt; String</code></pre></div><p><code>type</code> provides a string representation of the type name for a given type in<code>crocks</code>. While it is used mostly internally for law validation, it can be useful to the end user for debugging and building out custom types based on the standard<code>crocks</code> types. While type comparisons can easily be done manually by calling<code>type</code> on a given type, using the <code>isSameType</code> function hides much of the boilerplate. <code>type</code> is available on both the Constructor and the Instance for convenience.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const Reader = require(&#39;crocks/Reader&#39;)
const Identity = require(&#39;crocks/Identity&#39;)

const I = require(&#39;crocks/combinators/identity&#39;)
const isSameType = require(&#39;crocks/predicates/isSameType&#39;)

Reader.type() //=&gt; &#39;Reader&#39;

isSameType(Reader, Reader.of(76))   //=&gt; true
isSameType(Reader, Reader)          //=&gt; true
isSameType(Reader, Identity(0))     //=&gt; false
isSameType(Reader(I), Identity)     //=&gt; false</code></pre></div></article><article id="instance"><h2>Instance Methods</h2><h4>map</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Reader e a ~&gt; (a -&gt; b) -&gt; Reader e b</code></pre></div><p>While the left side, or the environment, of the <code>Reader</code> must always be fixed to the same type, the right side, or value, of the <code>Reader</code> may vary. Using <code>map</code>allows a function to be lifted into the <code>Reader</code>, mapping the result into the result of the lifted function.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const Reader = require(&#39;crocks/Reader&#39;)
const { ask } = Reader

const assign = require(&#39;crocks/helpers/assign&#39;)
const B = require(&#39;crocks/combinators/composeB&#39;)
const objOf = require(&#39;crocks/helpers/objOf&#39;)
const option = require(&#39;crocks/pointfree/option&#39;)
const prop = require(&#39;crocks/Maybe/prop&#39;)

// length :: Array -&gt; Number
const length =
  x =&gt; x.length

ask()
  .map(length)
  .runWith([ 1, 2, 3 ])
//=&gt; 3

// propOr :: (String, a) -&gt; b -&gt; a
const propOr = (key, def) =&gt;
  B(option(def), prop(key))

// lengthObj :: Array -&gt; Object
const lengthObj =
  B(objOf(&#39;length&#39;), length)

// addLength :: Object -&gt; Redaer Array Object
const addLength = x =&gt;
  ask(propOr(&#39;list&#39;, []))
    .map(B(assign(x), lengthObj))

Reader.of({ num: 27 })
  .chain(addLength)
  .runWith({ list: [ 1, 2, 3 ] })
//=&gt; { length: 3, num: 27 }</code></pre></div><h4>ap</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Reader e (a -&gt; b) ~&gt; Reader e a -&gt; Reader e b</code></pre></div><p><code>ap</code> allows for values wrapped in a <code>Reader</code> to be applied to functions also wrapped in a <code>Reader</code>. In order to use <code>ap</code>, the <code>Reader</code> must contain a function as its value. Under the hood, <code>ap</code> unwraps both the function and the value to be applied and applies the value to the function. Finally it will wrap the result of that application back into a <code>Reader</code>. It is required that the inner function is curried.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const Reader = require(&#39;crocks/Reader&#39;)
const { ask } = Reader

const B = require(&#39;crocks/combinators/composeB&#39;)
const assign = require(&#39;crocks/helpers/assign&#39;)
const liftA2 = require(&#39;crocks/helpers/liftA2&#39;)
const objOf = require(&#39;crocks/helpers/objOf&#39;)

// namePart :: Number -&gt; String -&gt; String
const namePart = indx =&gt; x =&gt;
  x.split(&#39; &#39;)[indx] || &#39;&#39;

// combine :: Object -&gt; Reader Object
const combine =
  x =&gt; ask(assign(x))

// full :: Reader Object
const full =
  ask(({ full }) =&gt; full)

// first :: Reader Object
const first =
  full
    .map(B(objOf(&#39;first&#39;), namePart(0)))

// last :: Reader Object
const last =
  full
    .map(B(objOf(&#39;last&#39;), namePart(1)))

// fluent style
Reader.of(assign)
  .ap(first)
  .ap(last)
  .chain(combine)
  .runWith({ full: &#39;Mary Jones&#39; })
//=&gt; { full: &#39;Mary Jones&#39;, first: &#39;Mary&#39;, last: &#39;Jones&#39; }

// liftAssign :: Reader Object -&gt; Reader Object -&gt; Reader Object
const liftAssign =
  liftA2(assign)

// using a lift function
liftAssign(first, last)
  .chain(combine)
  .runWith({ full: &#39;Tom Jennings&#39; })
//=&gt; { full: &#39;Tom Jennings&#39;, first: &#39;Tom&#39;, last: &#39;Jennings&#39; }</code></pre></div><h4>chain</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Reader e a ~&gt; (a -&gt; Reader e b) -&gt; Reader e b</code></pre></div><p>One of the ways <code>Monad</code>s like <code>Reader</code> are able to be combined and have their effects applied, is by using the <code>chain</code> method. In the case of <code>Reader</code>, the effect is to read in and make available the shared environment. <code>chain</code> expects a function that will take any <code>a</code> and return a new <code>Reader</code> with a value of <code>b</code>.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const Reader = require(&#39;crocks/Reader&#39;)
const { ask } = Reader

const B = require(&#39;crocks/combinators/composeB&#39;)
const option = require(&#39;crocks/pointfree/option&#39;)
const prop = require(&#39;crocks/Maybe/prop&#39;)

// multiply :: Number -&gt; Number -&gt; Number
const multiply =
  x =&gt; y =&gt; x * y

// add :: Number -&gt; Number -&gt; Number
const add  =
  x =&gt; y =&gt; x + y

// propOr :: (String, a) -&gt; b -&gt; a
const propOr = (key, def) =&gt;
  B(option(def), prop(key))

// applyScale :: Number -&gt; Reader Object Number
const applyScale = x =&gt;
  ask(propOr(&#39;scale&#39;, 1))
    .map(multiply(x))

// applyScale :: Number -&gt; Reader Object Number
const applyOffset = x =&gt;
  ask(propOr(&#39;offset&#39;, 0))
    .map(add(x))

// applyTransforms :: Number -&gt; Reader Object Number
const applyTransform = x =&gt;
  Reader.of(x)
    .chain(applyOffset)
    .chain(applyScale)

applyTransform(45)
  .runWith({})
//=&gt; 45

applyTransform(45)
  .runWith({ offset: 20 })
//=&gt; 65

applyTransform(45)
  .runWith({ scale: 2 })
//=&gt; 90

applyTransform(45)
  .runWith({ scale: 2, offset: 20 })
//=&gt; 130</code></pre></div><h4>runWith</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Reader e a ~&gt; e -&gt; a</code></pre></div><p>As <code>Reader</code> is a lazy datatype that requires a shared environment to run, it's instance provides a <code>runWith</code> method that takes in an environment and returns the result of the computation.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const { ask } = require(&#39;crocks/Reader&#39;)
const Pair = require(&#39;crocks/Pair&#39;)

const fst = require(&#39;crocks/Pair/fst&#39;)
const liftA2 = require(&#39;crocks/helpers/liftA2&#39;)
const snd = require(&#39;crocks/Pair/snd&#39;)

// data :: Pair Number Number
const data =
  Pair(20, 45)

// getCorrect :: Reader (Pair Number Number) Number
const getCorrect =
  ask(fst)

// getTotal :: Reader (Pair Number Number) Number
const getTotal =
  ask(snd)

// divide :: Number -&gt; Number -&gt; Number
const divide =
  x =&gt; y =&gt; x / y

// formatPercent :: Number -&gt; String
const formatPercent =
  x =&gt; `${Math.floor(x * 1000) / 10}%`

// calcPercent :: Reader (Pair Number Number) String
const calcPercent =
  liftA2(divide, getCorrect, getTotal)
    .map(formatPercent)

calcPercent
  .runWith(data)
//=. &#39;44.4%&#39;</code></pre></div></article><h2>Monad Transformer</h2><article id="readert"><h2>ReaderT</h2><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Monad m =&gt; ReaderT e (m a)</code></pre></div><p><code>ReaderT</code> is a <code>Monad Transformer</code> that wraps a given <code>Monad</code> with a <code>Reader</code>. This allows the interface of a <code>Reader</code> that enables the  composition of computations that depend on a shared environment <code>(e -&gt; a)</code>, but provides a way to abstract a means the <code>Reader</code> portion, when combining <code>ReaderT</code>s of the same type. All <code>ReaderT</code>s must provide the constructor of the target <code>Monad</code> that is being wrapped.</p></article><article id="readert-construction"><h2>Constructor Methods</h2><h4>ask</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">ReaderT.ask :: Monad m =&gt; () -&gt; ReaderT e (m e)
ReaderT.ask :: Monad m =&gt; (e -&gt; a) -&gt; ReaderT e (m a)</code></pre></div><p>A construction helper that returns a <code>ReaderT</code> with environment on the right portion of the <code>Reader</code>. <code>ask</code> can take a function, that can be used to map the environment to a different type or value. When using the function version, the function must return the type of the <code>Monad</code> the <code>ReaderT</code> wraps, which in turn will be wrapped in another</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const ReaderT = require(&#39;crocks/Reader/ReaderT&#39;)
const Maybe = require(&#39;crocks/Maybe&#39;)

const safe = require(&#39;crocks/Maybe/safe&#39;)
const isNumber = require(&#39;crocks/predicates/isNumber&#39;)

const MaybeReader = ReaderT(Maybe)
const { ask } = MaybeReader

// add :: Number -&gt; Number -&gt; Number
const add =
  x =&gt; y =&gt; x + y

// Typical Constructor
MaybeReader(safe(isNumber))
  .runWith(76)
//=&gt; Just 76

MaybeReader(safe(isNumber))
  .runWith(&#39;76&#39;)
//=&gt; Nothing

// Using `ask` with no function
// (identity on environment)
ask()
  .runWith(76)
//=&gt; Just 76

ask()
  .runWith(&#39;76&#39;)
//=&gt; Just &#39;76&#39;

// Using `ask` with a function
// (map environment before deposit)
ask(add(10))
  .runWith(76)
//=&gt; Just 86</code></pre></div><h4>lift</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">ReaderT.lift :: Monad m =&gt; m a -&gt; ReaderT e (m a)</code></pre></div><p>Used to promote an instance of a given <code>Monad</code> into a <code>ReaderT</code> of that <code>Monad</code>s type. This can be used to lift a pointed instance of the underlying <code>Monad</code>. When mixed with composition, <code>lift</code> can be used to promote functions that take the form of <code>a -&gt; m b</code> into a function that can be <code>chain</code>ed with the <code>ReaderT</code>. Although, <a href="#liftfn"><code>liftFn</code></a> can be used to remove the composition boilerplate and promote and <code>a -&gt; m b</code> function.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const ReaderT = require(&#39;crocks/Reader/ReaderT&#39;)
const Async = require(&#39;crocks/Async&#39;)

const compose = require(&#39;crocks/helpers/compose&#39;)
const curry = require(&#39;crocks/helpers/curry&#39;)
const flip = require(&#39;crocks/combinators/flip&#39;)
const runWith = require(&#39;crocks/pointfree/runWith&#39;)
const tap = require(&#39;crocks/helpers/tap&#39;)

const AsyncReader = ReaderT(Async)

const { ask, lift } = AsyncReader
const { Rejected } = Async

// log :: String -&gt; a -&gt; ()
const log = label =&gt;
  console.log.bind(console, label + &#39;:&#39;)

// forkLog :: Async a b -&gt; Async a b
const forkLog = tap(
  m =&gt; m.fork(log(&#39;rej&#39;), log(&#39;res&#39;))
)

// runAndLog :: e -&gt; ReaderT e (Async a b) -&gt; Async a b
const runAndLog = curry(
  x =&gt; compose(forkLog, flip(runWith, x))
)

// instance :: ReaderT e (Async String a)
const instance =
  lift(Rejected(&#39;Always Rejected&#39;))

runAndLog(instance, &#39;Thomas&#39;)
//=&gt; rej: Always Rejected

// Using in a composition
// rejectWith :: a -&gt; ReaderT e (Async a b)
const rejectWith =
  compose(lift, Rejected)

// envReject :: ReadetT e (Async e b)
const envReject =
  ask()
    .chain(rejectWith)

runAndLog(envReject, &#39;Sammy&#39;)
//=&gt; rej: Sammy</code></pre></div><h4>liftFn</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">ReaderT.liftFn :: Monad m =&gt; (a -&gt; m b) -&gt; a -&gt; ReaderT e (m b)</code></pre></div><p>Used to transform a given function in the form of <code>a -&gt; m b</code> into a lifted function, where <code>m</code> is the underlying <code>Monad</code> of a <code>ReaderT</code>. This allows for the removal of composition boilerplate that results from using the<a href="#lift"><code>lift</code></a> helper.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const ReaderT = require(&#39;crocks/Reader/ReaderT&#39;)
const Either = require(&#39;crocks/Either&#39;)

const ifElse = require(&#39;crocks/logic/ifElse&#39;)

const EitherReader = ReaderT(Either)

const { ask, liftFn } = EitherReader
const { Left, Right } = Either

// gte :: Number -&gt; Number -&gt; Either String Number
const gte = x =&gt; ifElse(
  n =&gt; n &gt;= x,
  Right,
  n =&gt; Left(`${n} is not gte to ${x}`)
)

// gte10 :: Number -&gt; Either String Number
const gte10 =
  gte(10)

// add20 :: ReaderT Number (Either String Number)
const add20 =
  ask()
    .chain(liftFn(gte10))
    .map(n =&gt; n + 20)

add20
  .runWith(30)
//=&gt; Right 50

add20
  .runWith(9)
//=&gt; Left &quot;9 is not gte to 10&quot;</code></pre></div><h4>of</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">ReaderT.of :: Monad m =&gt; a -&gt; ReaderT e (m a)</code></pre></div><p>Lifts a value into a <code>ReaderT</code> using the <code>of</code> method of the underlying <code>Monad</code>.<code>of</code> will disregard the environment and points the right portion to the provided value.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const ReaderT = require(&#39;../crocks/src/Reader/ReaderT&#39;)

const Maybe = require(&#39;crocks/Maybe&#39;)
const Either = require(&#39;crocks/Either&#39;)
const State = require(&#39;crocks/State&#39;)

const MaybeReader = ReaderT(Maybe)
const EitherReader = ReaderT(Either)
const StateReader = ReaderT(State)

MaybeReader.of(&#39;yep&#39;)
  .map(x =&gt; x.toUpperCase())
  .runWith(23)
//=&gt; Just &quot;YEP&quot;

EitherReader.of(43)
  .runWith(23)
//=&gt; Right 43

StateReader.of(0)
  .runWith(23)
  .runWith(42)
//=&gt; Pair(0, 42)</code></pre></div></article><article id="readert-instance"><h2>Instance Methods</h2><h4>map</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Monad m =&gt; ReaderT e (m a) ~&gt; (a -&gt; b) -&gt; ReaderT e (m b)</code></pre></div><p>Provides a means for lifting a normal javascript function into the underlying<code>Monad</code>, allowing the innermost value of the underlying <code>Monad</code> to be mapped. This method will ignore the outer <code>ReaderT</code>, and be applied directly to the underlying <code>Monad</code>.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const ReaderT = require(&#39;crocks/Reader/ReaderT&#39;)
const Maybe = require(&#39;crocks/Maybe&#39;)

const isString = require(&#39;crocks/predicates/isString&#39;)
const safe = require(&#39;crocks/Maybe/safe&#39;)

const MaybeReader =
  ReaderT(Maybe)

const { ask, liftFn } = MaybeReader

// maybeString :: a -&gt; Maybe String
const maybeString =
  safe(isString)

// toUpper :: String -&gt; String
const toUpper =
  x =&gt; x.toUpperCase()

// envToUpper :: ReaderT e (Maybe String)
const envToUpper =
  ask()
    .chain(liftFn(maybeString))
    .map(toUpper)

envToUpper
  .runWith(4)
//=&gt; Nothing

envToUpper
  .runWith(&#39;hola&#39;)
//=&gt; Just &quot;HOLA&quot;</code></pre></div><h4>ap</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Monad m =&gt; ReaderT e (m (a -&gt; b)) ~&gt; ReaderT e (m a) -&gt; ReaderT e (m b)</code></pre></div><p>Applies wrapped functions to the provided value, using the <code>ap</code> of the underlying <code>Monad</code>. A <code>ReaderT</code> of the underlying <code>Monad</code> must be provided, which allows access to the environment.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const Pair = require(&#39;crocks/Pair&#39;)
const ReaderT = require(&#39;crocks/Reader/ReaderT&#39;)
const Result = require(&#39;crocks/Result&#39;)

const fst = require(&#39;crocks/Pair/fst&#39;)
const snd = require(&#39;crocks/Pair/snd&#39;)

const ifElse = require(&#39;crocks/logic/ifElse&#39;)
const isNumber = require(&#39;crocks/predicates/isNumber&#39;)
const liftA2 = require(&#39;crocks/helpers/liftA2&#39;)

const { Err, Ok } = Result

const ResultReader =
  ReaderT(Result)

const { ask, liftFn } = ResultReader

// add :: Number -&gt; Number -&gt; Number
const add =
  x =&gt; y =&gt; x + y

// makeError :: a -&gt; Result [ String ] b
const makeErr =
  x =&gt; Err([ `${x} is not a Number` ])

// isValid :: a -&gt; ReaderT e (Result [ String ] Number)
const isValid = liftFn(
  ifElse(isNumber, Ok, makeErr)
)

// first :: ReaderT (Pair a b) (Result [ String ] Number)
const first =
  ask(fst)
    .chain(isValid)

// second :: ReaderT (Pair a b) (Result [ String ] Number)
const second =
  ask(snd)
    .chain(isValid)

// Using a fluent style with of
ResultReader.of(add)
  .ap(first)
  .ap(second)
  .runWith(Pair(34, 21))
//=&gt; Ok 55

// Using a fluent style with map
first
  .map(add)
  .ap(second)
  .runWith(Pair(true, 21))
//=&gt; Err [ &quot;true is not a Number&quot; ]

// Using liftA2
liftA2(add, first, second)
  .runWith(Pair(&#39;Bob&#39;, &#39;Jones&#39;))
//=&gt; Err [ &#39;Bob is not a Number&#39;, &#39;Jones is not a Number&#39; ]</code></pre></div><h4>chain</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Monad m =&gt; ReaderT e (m a) ~&gt; Reader e (a -&gt; ReaderT e (m b)) -&gt; ReaderT e (m b)</code></pre></div><p>Can be used to apply the effects of the underlying <code>Monad</code> with the benefit of being able to read from the environment. This method only accepts functions of the form <code>Monad m =&gt; a -&gt; ReaderT e (m b)</code>.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const ReaderT = require(&#39;../crocks/src/Reader/ReaderT&#39;)
const Maybe = require(&#39;crocks/Maybe&#39;)
const prop = require(&#39;crocks/Maybe/prop&#39;)

const MaybeReader =
  ReaderT(Maybe)

const { ask, liftFn } = MaybeReader

// readProp :: String -&gt; b -&gt; ReaderT e (Maybe a)
const readProp = key =&gt;
  liftFn(prop(key))

// getName :: ReaderT e (Maybe a)
const getName =
  ask()
    .chain(readProp(&#39;name&#39;))

// getFirstName :: ReaderT e (Maybe a)
const getFirstName =
  getName
    .chain(readProp(&#39;first&#39;))

// getLastName :: ReaderT e (Maybe a)
const getLastName =
  getName
    .chain(readProp(&#39;last&#39;))

// person :: Object
const person = {
  name: {
    first: &#39;Hazel&#39;,
    middle: &#39;Anne&#39;
  }
}

getFirstName
  .runWith(person)
//=&gt; Just &quot;Hazel&quot;

getLastName
  .runWith(person)
//=&gt; Nothing

getLastName
  .runWith(10)
//=&gt; Nothing</code></pre></div><h4>runWith</h4><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="haskell" ref="code">Monad m =&gt; ReaderT e (m a) ~&gt; e -&gt; m a</code></pre></div><p>In order to unwrap the underlying <code>Monad</code>, <code>ReaderT</code> needs to be ran with a given environment. A <code>ReaderT</code> instance comes equipped with a <code>runWith</code> method that accepts an environment and returns the resulting <code>Monad</code>.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">const ReaderT = require(&#39;../crocks/src/Reader/ReaderT&#39;)
const Maybe = require(&#39;crocks/Maybe&#39;)

const MaybeReader = ReaderT(Maybe)
const { ask, liftFn } = MaybeReader

const prop = require(&#39;crocks/Maybe/prop&#39;)

// data :: Object
const data = {
  animals: [
    &#39;tiger&#39;, &#39;muskrat&#39;, &#39;mouse&#39;
  ]
}

// length :: Array -&gt; Number
const length =
  x =&gt; x.length

// getProp :: String -&gt; ReaderT Object (Maybe [])
const getProp = key =&gt;
  ask()
    .chain(liftFn(prop(key)))

getProp(&#39;animals&#39;)
  .map(length)
  .runWith(data)
//=&gt; Just 3</code></pre></div></article><input type="hidden" value="Reader"><input type="hidden" value="Crocks"></div><div class="contribute"><div class="contribute-img"><span class="icon-16-github"></span></div><div class="contribute-text"><p>Contribute on Github! <a href="https://github.com/evilsoft/crocks/tree/master/docs/src/pages/docs/crocks/Reader.md" class="contribute-link" target="_blank">Edit this section</a>.</p></div></div></div><nav class="col-xs-16 col-md-offset-2 col-md-5"><div class="docs-nav-container"><div class="affix-top docs-nav"><div ref="readingContainer"></div></div></div></nav></div></div></div></div></main></div></div><script src="/crocks/js/bundles/jnYmi.js"></script><script>var data = JSON.parse('{\x22pageLocation\x22:\x22index.children.docs.children.crocks.children.Reader\x22,\x22site\x22:{\x22title\x22:\x22Crocks\x22,\x22githubRepo\x22:\x22evilsoft\/crocks\x22,\x22googleAnalytics\x22:\x22UA-37033501-5\x22,\x22icon\x22:\x22icon-16-loop\x22,\x22index\x22:{\x22title\x22:\x22Home\x22,\x22description\x22:\x22A collection of well known Monadic Containers for your utter enjoyment.\x22,\x22srcFilePath\x22:\x22src\/pages\/index.soy\x22,\x22id\x22:\x22pages\x22,\x22location\x22:\x22\/.\/\x22,\x22url\x22:\x22\/crocks\/.\/\x22,\x22children\x22:{\x22docs\x22:{\x22children\x22:{\x22getting-started\x22:{\x22title\x22:\x22Getting Started\x22,\x22description\x22:\x22Getting started with a Crocks.\x22,\x22icon\x22:\x22arrow-right-rod\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:1,\x22srcFilePath\x22:\x22src\/pages\/docs\/getting-started.md\x22,\x22id\x22:\x22getting-started\x22,\x22location\x22:\x22\/docs\/getting-started.html\x22,\x22url\x22:\x22\/crocks\/docs\/getting-started.html\x22},\x22search\x22:{\x22title\x22:\x22Search\x22,\x22description\x22:\x22Find what you\x27re looking for in the documentation.\x22,\x22hidden\x22:true,\x22srcFilePath\x22:\x22src\/pages\/docs\/search.soy\x22,\x22id\x22:\x22search\x22,\x22location\x22:\x22\/docs\/search.html\x22,\x22url\x22:\x22\/crocks\/docs\/search.html\x22},\x22crocks\x22:{\x22children\x22:{\x22Arrow\x22:{\x22title\x22:\x22Arrow\x22,\x22description\x22:\x22Arrow Crock\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:10,\x22srcFilePath\x22:\x22src\/pages\/docs\/crocks\/Arrow.md\x22,\x22id\x22:\x22Arrow\x22,\x22location\x22:\x22\/docs\/crocks\/Arrow.html\x22,\x22url\x22:\x22\/crocks\/docs\/crocks\/Arrow.html\x22},\x22Equiv\x22:{\x22title\x22:\x22Equiv\x22,\x22description\x22:\x22Equiv Crock\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:50,\x22srcFilePath\x22:\x22src\/pages\/docs\/crocks\/Equiv.md\x22,\x22id\x22:\x22Equiv\x22,\x22location\x22:\x22\/docs\/crocks\/Equiv.html\x22,\x22url\x22:\x22\/crocks\/docs\/crocks\/Equiv.html\x22},\x22Pred\x22:{\x22title\x22:\x22Pred\x22,\x22description\x22:\x22Pred Crock\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:100,\x22srcFilePath\x22:\x22src\/pages\/docs\/crocks\/Pred.md\x22,\x22id\x22:\x22Pred\x22,\x22location\x22:\x22\/docs\/crocks\/Pred.html\x22,\x22url\x22:\x22\/crocks\/docs\/crocks\/Pred.html\x22},\x22Reader\x22:{\x22title\x22:\x22Reader\x22,\x22description\x22:\x22Reader Crock\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:110,\x22srcFilePath\x22:\x22src\/pages\/docs\/crocks\/Reader.md\x22,\x22id\x22:\x22Reader\x22,\x22location\x22:\x22\/docs\/crocks\/Reader.html\x22,\x22url\x22:\x22\/crocks\/docs\/crocks\/Reader.html\x22,\x22active\x22:true},\x22State\x22:{\x22title\x22:\x22State\x22,\x22description\x22:\x22State Crock\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:130,\x22srcFilePath\x22:\x22src\/pages\/docs\/crocks\/State.md\x22,\x22id\x22:\x22State\x22,\x22location\x22:\x22\/docs\/crocks\/State.html\x22,\x22url\x22:\x22\/crocks\/docs\/crocks\/State.html\x22}},\x22title\x22:\x22Crocks\x22,\x22description\x22:\x22Crocks API\x22,\x22layout\x22:\x22notopic\x22,\x22icon\x22:\x22code-file\x22,\x22weight\x22:2,\x22srcFilePath\x22:\x22src\/pages\/docs\/crocks\/index.md\x22,\x22id\x22:\x22crocks\x22,\x22location\x22:\x22\/docs\/crocks\/\x22,\x22url\x22:\x22\/crocks\/docs\/crocks\/\x22,\x22childIds\x22:[\x22Arrow\x22,\x22Equiv\x22,\x22Pred\x22,\x22Reader\x22,\x22State\x22],\x22active\x22:true},\x22functions\x22:{\x22children\x22:{\x22combinators\x22:{\x22description\x22:\x22Combinators API\x22,\x22layout\x22:\x22notopic\x22,\x22title\x22:\x22Combinators\x22,\x22weight\x22:1,\x22srcFilePath\x22:\x22src\/pages\/docs\/functions\/combinators.md\x22,\x22id\x22:\x22combinators\x22,\x22location\x22:\x22\/docs\/functions\/combinators.html\x22,\x22url\x22:\x22\/crocks\/docs\/functions\/combinators.html\x22},\x22helpers\x22:{\x22title\x22:\x22Helpers\x22,\x22description\x22:\x22Helper functions\x22,\x22layout\x22:\x22notopic\x22,\x22weight\x22:2,\x22srcFilePath\x22:\x22src\/pages\/docs\/functions\/helpers.md\x22,\x22id\x22:\x22helpers\x22,\x22location\x22:\x22\/docs\/functions\/helpers.html\x22,\x22url\x22:\x22\/crocks\/docs\/functions\/helpers.html\x22},\x22logic-functions\x22:{\x22description\x22:\x22Logic Functions API\x22,\x22layout\x22:\x22notopic\x22,\x22title\x22:\x22Logic Functions\x22,\x22weight\x22:3,\x22srcFilePath\x22:\x22src\/pages\/docs\/functions\/logic-functions.md\x22,\x22id\x22:\x22logic-functions\x22,\x22location\x22:\x22\/docs\/functions\/logic-functions.html\x22,\x22url\x22:\x22\/crocks\/docs\/functions\/logic-functions.html\x22},\x22pointfree-functions\x22:{\x22title\x22:\x22Point-free Functions\x22,\x22description\x22:\x22Point-free Functions API\x22,\x22layout\x22:\x22notopic\x22,\x22weight\x22:5,\x22srcFilePath\x22:\x22src\/pages\/docs\/functions\/pointfree-functions.md\x22,\x22id\x22:\x22pointfree-functions\x22,\x22location\x22:\x22\/docs\/functions\/pointfree-functions.html\x22,\x22url\x22:\x22\/crocks\/docs\/functions\/pointfree-functions.html\x22},\x22predicate-functions\x22:{\x22description\x22:\x22Predicate Functions API\x22,\x22layout\x22:\x22notopic\x22,\x22title\x22:\x22Predicate Functions\x22,\x22weight\x22:4,\x22srcFilePath\x22:\x22src\/pages\/docs\/functions\/predicate-functions.md\x22,\x22id\x22:\x22predicate-functions\x22,\x22location\x22:\x22\/docs\/functions\/predicate-functions.html\x22,\x22url\x22:\x22\/crocks\/docs\/functions\/predicate-functions.html\x22},\x22transformation-functions\x22:{\x22title\x22:\x22Transformation Functions\x22,\x22description\x22:\x22Transformation Functions API\x22,\x22layout\x22:\x22notopic\x22,\x22weight\x22:6,\x22srcFilePath\x22:\x22src\/pages\/docs\/functions\/transformation-functions.md\x22,\x22id\x22:\x22transformation-functions\x22,\x22location\x22:\x22\/docs\/functions\/transformation-functions.html\x22,\x22url\x22:\x22\/crocks\/docs\/functions\/transformation-functions.html\x22}},\x22title\x22:\x22Functions\x22,\x22description\x22:\x22functions\x22,\x22layout\x22:\x22notopic\x22,\x22icon\x22:\x22code-file\x22,\x22weight\x22:4,\x22srcFilePath\x22:\x22src\/pages\/docs\/functions\/index.md\x22,\x22id\x22:\x22functions\x22,\x22location\x22:\x22\/docs\/functions\/\x22,\x22url\x22:\x22\/crocks\/docs\/functions\/\x22,\x22childIds\x22:[\x22combinators\x22,\x22helpers\x22,\x22logic-functions\x22,\x22predicate-functions\x22,\x22pointfree-functions\x22,\x22transformation-functions\x22]},\x22monoids\x22:{\x22children\x22:{\x22All\x22:{\x22title\x22:\x22All\x22,\x22description\x22:\x22All Monoid\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:10,\x22srcFilePath\x22:\x22src\/pages\/docs\/monoids\/All.md\x22,\x22id\x22:\x22All\x22,\x22location\x22:\x22\/docs\/monoids\/All.html\x22,\x22url\x22:\x22\/crocks\/docs\/monoids\/All.html\x22},\x22Any\x22:{\x22title\x22:\x22Any\x22,\x22description\x22:\x22Any Monoid\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:20,\x22srcFilePath\x22:\x22src\/pages\/docs\/monoids\/Any.md\x22,\x22id\x22:\x22Any\x22,\x22location\x22:\x22\/docs\/monoids\/Any.html\x22,\x22url\x22:\x22\/crocks\/docs\/monoids\/Any.html\x22}},\x22title\x22:\x22Monoids\x22,\x22description\x22:\x22Monoids API\x22,\x22layout\x22:\x22guide\x22,\x22icon\x22:\x22code-file\x22,\x22weight\x22:3,\x22srcFilePath\x22:\x22src\/pages\/docs\/monoids\/index.md\x22,\x22id\x22:\x22monoids\x22,\x22location\x22:\x22\/docs\/monoids\/\x22,\x22url\x22:\x22\/crocks\/docs\/monoids\/\x22,\x22childIds\x22:[\x22All\x22,\x22Any\x22]}},\x22title\x22:\x22Documentation\x22,\x22description\x22:\x22Everything you need to know to get started.\x22,\x22srcFilePath\x22:\x22src\/pages\/docs\/index.soy\x22,\x22id\x22:\x22docs\x22,\x22location\x22:\x22\/docs\/\x22,\x22url\x22:\x22\/crocks\/docs\/\x22,\x22childIds\x22:[\x22getting-started\x22,\x22crocks\x22,\x22monoids\x22,\x22functions\x22,\x22search\x22],\x22active\x22:true}},\x22childIds\x22:[\x22docs\x22]},\x22basePath\x22:\x22\/crocks\x22,\x22topbar\x22:[{\x22href\x22:\x22\/crocks\/docs\/\x22,\x22label\x22:\x22Documentation\x22,\x22selected\x22:true}]}}'); if (window.electricPageComponent) {window.electricPageComponent.dispose();}var getByPath = function(obj, path) {path = path.split('.'); for (var i = 0; i < path.length; i++) {obj = obj[path[i]];}; return obj;}; if (window.pageComponent) {var page = getByPath(data.site, data.pageLocation); if (page) {window.electricPageComponent = pageComponent.default.render(pageComponent.default, {element: '#pageComponent > *', page: page, site: data.site});}if (window.runCodeMirror) {runCodeMirror();}}</script><!-- endinject --></div><!-- inject:vendor:js --><script>CodeMirror.defaults.lineNumbers = true; CodeMirror.defaults.matchBrackets = true; CodeMirror.defaults.readOnly = true; CodeMirror.defaults.tabindex = -1; CodeMirror.defaults.tabSize = 2; CodeMirror.defaults.theme = 'blackboard'; CodeMirror.defaults.viewportMargin = Infinity; var REGEX_LB = /&#123;/g; var REGEX_RB = /&#125;/g; function runCodeMirror() {var code = document.querySelectorAll('.code'); for (var i = 0; i < code.length; i++) {var text = code[i].innerText .replace(REGEX_LB, '{') .replace(REGEX_RB, '}'); var editor = CodeMirror(function(elt) {var preEl = code[i].parentNode; preEl.parentNode.appendChild(elt);}, {mode: code[i].getAttribute('data-mode') || '', value: text});}if (window.ElectricCodeTabs) {new window.ElectricCodeTabs();}}runCodeMirror(); function runGoogleAnalytics(path) {if (typeof ga === 'function') {ga('set', 'page', path); ga('send', 'pageview');}}document.addEventListener('DOMContentLoaded', function() {if (typeof senna !== 'undefined') {var app = senna.dataAttributeHandler.getApp(); app.on('endNavigate', function(event) {runGoogleAnalytics(event.path);});}}); (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-37033501-5', 'auto'); ga('send', 'pageview');</script><!-- endinject --></body></html>